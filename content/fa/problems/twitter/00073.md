# Title
آیلا و بردیا
# Timestamp
2024-06-01 06:46
# Tags
combinatorics
# ID
مساله ۷۳
# Difficulty
0
# Image
/images/problems/73_pic.jpg
# Statement
آیلا ۱۰۰ عدد حقیقی دو به دو متمایز $x[1]$ تا $x[100]‏$‎ را در اختیار دارد. هدف بردیا این است که اندیس کوچکترین عدد را بیابد. برای این منظور، بردیا در هر گام دو عدد i و j بین ۱ تا ۱۰۰ انتخاب می‌کند و از آیلا می‌پرسد که «کدام یک از اعداد $x[i]$ و $x[j]‏$‎ کوچکتر است؟» پس از اینکه آیلا به سوال بردیا پاسخ داد، بردیا سوال بعدی خود را می‌پرسد و بازی به همین صورت ادامه می‌یابد. آیلا اجازه دارد که حداکثر به یک سوال بردیا پاسخ غلط دهد. کمترین تعداد سوال‌هایی را بیابید که بردیا با پرسیدن آن‌ها به هدف خود می‌رسد.

منبع سوال: چهل و ششمین مسابقه ریاضی دانشجویی انجمن ریاضی ایران

لینک سوال در توویتر: https://x.com/Riazi_Cafe/status/1797146395583156337

# Solution

با ۱۹۹ سوال بردیا به هدف خود می‌رسد. در حالت کلی، برای $n$ عدد بردیا با کمتر از $2n-1‏$‎ سوال لزوما نمی‌تواند اندیس کمترین عدد را پیدا کند.

الگوریتم با $2n-1‏$‎ سوال: ابتدا $k$ را برابر ۱ قرار بده و به ازای $i$ از ۲ تا $n$ دو بار بپرس آیا $‏x[i]‏$‎ کمتر از $x[k]$ است؟ اگر پاسخ دو سوال متفاوت بود، برای بار سوم بپرس. هر گاه $x[i] < x[k]$، آنگاه مقدار $k$ را به $i$ تغییر بده و ادامه بده. در انتها $k$ اندیس کوچکترین عدد است.

این الگوریتم $n-1‏$‎ مرحله دارد و حداکثر یک مرحله‌ی آن ۳ سوالی است، پس حداکثر $2n-1‏$‎ سوال خواهد داشت.

برای اینکه ثابت کنیم کمتر از این نمی‌شود، به ازای هر اندیس یک گره گراف در نظر بگیرید. پس از گرفتن پاسخ $a[i] < a[j]‏$‎ از راس ‏$‎i‏$‎ به راست ‏$‎j‏$‎ یال اضافه می‌کنیم. در حالتی که آیلا هنوز دروغ نگفته باشد یا دروغش غیر قابل تشخیص باشد، این گراف بدون دور است و درجه‌ی ورودی حداقل یک راس 0 است. همچنین با فرض دروغ نگفتن آیلا، همه راس‌های با درجه ورودی صفر نامزد عضو کمینه هستند و عضو کمینه قابل تشخیص نیست. پس  حالتی را در نظر می‌گیریم که دقیقا یک راس با درجه 0 وجود دارد. در اینصورت اگر راسی با درجه‌ی ورودی 1 وجود داشته باشد، برعکس کردن یال ورودی آن دور ایجاد نخواهد کرد، پس این گراف دوم نیز حالتی است که آیلا دروغ قابل تشخیص نگفته. پس نمی‌توانیم مطمئن شویم که آیا این یال دروغ بوده یا نه.

بنابراین، تا وقتی درجه‌ی ورودی همه‌ی راس‌ها به غیر از یکی حداقل ۲ نشود، آیلا می‌تواند طوری بازی کند که دروغش قابل تشخیص نباشد و نمی‌توانیم مطمئن شویم عضو کمینه کدام راس است. بنابراین تعداد یال‌های گراف باید حداقل $2(n-1)$ باشد.

حال فرض کنید در یکی از $2(n-1)‏$‎ سوال اول آیلا پاسخ یکی از سوالات را دروغ گفته باشد. در اینصورت گراف یک دور خواهد داشت، و آیلا می‌تواند طوری بازی کند که دور در گام $2(n-1‏)‏$‎ تشکیل شود و قبل از آن متوجه دروغ نشویم. در اینصورت نمی‌توانیم تشخیص دهیم که کدامیک از یال‌های دور دروغ است. پس وجود سوال $2n-1‏$‎ ام در برخی حالات ضروری است.
