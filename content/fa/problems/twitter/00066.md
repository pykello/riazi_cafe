# Title
بازی با ظروف میوه
# Timestamp
2024-02-20 06:46
# Tags
game-theory
# ID
مساله ۶۶
# Difficulty
0
# Image
/images/problems/66_pic.jpg
# Statement
هشمت و قلی قراره یه بازی دو نفره انجام بدن. اول هشمت ۱۳۶۹ تا آلبالو میذاره توی یه کاسه. بعد قلی یه تعدادی گیلاس میذاره توی یه کاسه دیگه. از این به بعد هشمت و قلی یکی در میون اینطوری بازی میکنن.

با شروع از هشمت، هر‌نفر:
* یا تعداد ناصفری آلبالو میخوره
* یا تعداد‌ ناصفری گیلاس میخوره
* یا به تعداد‌ برابر و ناصفر آلبالو و گیلاس میخوره

کسی که توی نوبتش نه آلبالو باشه نه گیلاس بازندست. قلی چند تا گیلاس توی کاسه دوم بذاره که برنده بازی بشه؟ (به‌شرطی‌ که از اون به بعد جفتشون بهینه بازی کنند)

لینک سوال در توویتر: https://twitter.com/Riazi_Cafe/status/1759881605819322635

# Solution

پاسخ درست ۸۴۶ است.

 اگر ۱۳۶۹ را به صورت مجموع اعداد فیبوناچی بنویسیم، خواهیم داشت 1369=987+377+5. با توجه به اینکه کوچکترین مولفه در این مجموع، یعنی 5 در دنباله فیبوناچی 1,2,3,5,8,... اندیس زوج دارد (با فرض شروع از اندیس ۰)،  مولفه‌های این مجموع را با عدد قبلی در دنباله فیبوناچی جایگزین می‌کنیم و حاصل، یعنی 846=610+233+3 به دست می‌آید!
 
#### راه‌حل استقرایی
 
 در چنین مساله‌هایی، با فرض بهینه بازی‌کردن بازیکنان،
 
* حالت‌های بازنده دو دسته هستند:
    * حالت‌های نهایی. مثلا در این بازی، حالتی که هیچ مهره‌ای باقی نمانده.
    * حالت‌هایی که از آن‌ها به هیچ حالت  بازنده‌ی دیگری نشود رفت.
* حالت‌های برنده حالت‌هایی هستند که از آن‌ها به **حداقل یک** حالت بازنده بشود رفت.

از این پس هر وقت می‌گوییم حالت (a,b) منظور این است که در ظرف با میوه کمتر a عدد میوه باقی مانده و در دیگر b عدد. همچنین حالت (a,b) کوچکتر از (c,d) است اگر یا a<c یا اینکه a=c و b<d،

اگر شرایط بالا برای این بازی در نظر بگیریم، حالت (a,b) بازنده است اگر:

* یا a=b=0 
* یا اینکه حالت (c,d) کوچکتری وجود نداشته باشد که یا c یا d با یکی از a یا b برابر باشد، یا  اختلاف b و d برابر با اختلاف a و c باشد.

بنابراین می‌توانیم دنباله حالت‌های بازنده را این چنین بسازیم:

* حالت بازنده 0: حالت (0,0)
* حالت بازنده i: فرض کنید a کوچکترین عدد صحیح مثبتی باشد که در هیچ کدام از مولفه‌های حالت‌های بازنده قبلی نیامده. در این صورت حالت بازنده i برابر است با (a,a+i).

که چند عضو اول این دنباله عبارت است از

* (0,0)
* (1,2)
* (3,5)
* (4,7)
* (6,10)
* ...

که اگر این دنباله را ادامه دهیم (مثلا با برنامه کامپیوتری)، به حالت بازنده 523 برابر خواهد بود با (846,1369). پس اگر قلی در ظرف دوم ۸۴۶ گیلاس قرار دهد، هشمت در حالت بازنده قرار خواهد گرفت و قلی برنده خواهد شد.


#### راه‌حل ریاضی



