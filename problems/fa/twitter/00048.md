# Title
یافتن جایزه
# Timestamp
2023-11-20 06:24
# ID
مساله ۴۸
# Difficulty
0
# Image
/images/problems/48_big_prize.jpeg
# Statement
۱۰ هزار جعبه به ترتیب ساعتگرد دور یک دایره قرار گرفته اند. 9999 از آنها خالی است اما یکی از آنها حاوی یک هدیه است.

شما با یک شعبده باز به روش زیر بازی می کنید:
شعبده باز در ابتدا در مقابل جعبه شماره 1 ایستاده است. فرض کنید p شماره جعبه شعبده‌باز در هر مرحله باشد ( در ابتدا p = 1).

* مرحله 1: هر بار شعبده باز از شما می پرسد که آیا می خواهید او را به جعبه دیگری منتقل کنید یا خیر. اگر تصمیم گرفتید او را به کنار جعبه ای که انتخاب می کنید منتقل کنید، 10 دقیقه طول می کشد تا او به مکان مورد نظر شما حرکت کند (و مقدار p به شماره جعبه مورد نظر شما تغییر می کند).

* مرحله 2: سپس  شعبده باز جعبه شماره p را باز می کند. این فرآیند 1 دقیقه طول می کشد. اگر هدیه در جعبه شماره p باشد، بازی خاتمه می یابد، در غیر این صورت شعبده باز به  جعبه بازنشده بعدی (به صورت ساعت گرد) می رود. این جا به جایی زمان نمی برد. به طور مثال اگر او  جعبه ۷ را باز کرده و جعبه هشتم قبلا باز شده باشد، ولی جعبه ۹ باز نشده باشد او به جعبه شماره ۹ می رود. همچنین بعد از باز کردن جعبه ۱۰۰۰۰ او از جعبه شماره ۱ شروع می‌کند

* تا زمانی که هدیه را پیدا نکردید مراحل اول و دوم تکرار می‌شود.

قبل از شروع بازی، شعبده باز ذهن شما را می خواند و متوجه می شود که چگونه می خواهید با او بازی کنید. سپس بر اساس استراتژی شما، هدیه را در جعبه ای قرار می دهد که بیشترین زمان را برای یافتن آن (به طور متوسط) از شما می گیرد.

چگونه در این بازی بازی می کنید و چقدر زمان می برد تا هدیه را پیدا کنید؟

به خاطر داشته باشید که شعبده باز ذهن شما را می خواند و اگر تصمیم دارید غیرتصادفی بازی کنید، او هدیه را در آخرین جعبه ای که استراتژی شما باز می کند قرار می دهد. بنابراین، برای اینکه شعبده باز را گیج کنید، باید یک استراتژی تصادفی در ذهن خود داشته باشید و در حین بازی با انداختن تاس حرکات خود را انتخاب کنید.

لینک مساله در توویتر: https://twitter.com/Riazi_Cafe/status/1726863460729020438

# Solution
یک استراتژی ساده این است که در ابتدا یک جعبه $p$ را به طور یکنواخت به صورت تصادفی انتخاب کنیم و از شعبده‌ باز درخواست کنیم به آن جعبه برود. از آن به بعد اجازه می‌دهیم شعبده باز جعبه ها را یکی یکی باز کند تا هدیه را پیدا کنیم. این استراتژی به طور متوسط تقریبا 5010.5 دقیقه زمان  می‌برد (مستقل از اینکه شعبده باز هدیه را در کدام جعبه قرار می دهد). با این حال، ما می‌توانیم با استفاده از یک استراتزي غیریکنواخت  بهتر عمل کنیم. جزئیات بیشتر در زیر آورده شده است

همانطور که در صورت مسئله بیان شد، اگر استراتژی تصادفی سازی استفاده نکنیم، شعبده باز همیشه می تواند بفهمد که آخرین جعبه ای که استراتژی ما باز می کند کدام جعبه است و هدیه را در آن جعبه قرار دهد. بنابراین، ما هرگز هدیه را در زمان کمتر از 10000 پیدا نمی کنیم. این با راه حل بهینه فاصله زیادی دارد و بنابراین برای به حداقل رساندن زمان نیاز به استفاده از یک استراتژی تصادفی داریم.

با استراتژی پیشنهادی ما، 10 دقیقه زمان صرف می کنیم تا در ابتدا به جعبه $p$ برویم 
(به غیر از حالت $p=1$ که در آنصورت صفر دقیقه صرف می‌شود تا در ابتدا به آن برویم)
 و از آن به بعد میانگین تعداد جعبه هایی که برای یافتن هدیه باز می کنیم برابر با 5000.5 است. بنابراین، ما به طور متوسط تقریبا 5010.5 دقیقه منتظر می مانیم تا هدیه را پیدا کنیم.

اگر متغیر تصادفی $p$ ما بین 2 تا 10 باشد، واضح است که این استراتژی بهینه نیست. دلیل آن این است که ما 10 دقیقه را صرف انتقال به جعبه $p$ می کنیم و اگر به جای آن به شعبده باز اجازه دهیم تا جعبه ها را یکی یکی باز کند تا به جعبه $p$ برسد ما، زودتر به جعبه $p$  می رسیم. بنابراین، یک استراتژی بهتر این است که متغیر $p$ را به طور یکنواخت به صورت تصادفی از محدوده $[11,10000]$ انتخاب کنیم و به جعبه شماره $p$ با احتمال $999/1000$ برویم. و با احتمال $1/1000$ در $p=1$ بمانیم.

 به این ترتیب شعبده باز هدیه را در جعبه شماره 10 قرار می دهد 
 (زیرا زمان متوسط رسیدن به آن با این استراتژی بیشتر/مساوی بقیه جعبه‌هاست)
 و به این ترتیب میانگین زمان انتظار ما برابر است با:
 
 * اگر در ابتدا تصمیم بگیریم شعبده باز را حرکت ندهیم (احتمال $1/1000$): 10
 
 * اگر تصمیم بگیریم شعبده باز را به جعبه تصادفی $p$ در محدوده $[11, 10000]$ منتقل کنیم (احتمال $999/1000$): 10 (زمان حرکت) + 
 $\frac{10000 + 9999 + 9998 + \ldots + 11}{9990}$
  دقیقه (میانگین زمان رسیدن به هدیه) = 5015.5 دقیقه
 
 بنابراین، به طور متوسط زمان انتظار $10/1000 + 5015.5 (999/1000) = 5010.4945$ دقیقه خواهد بود. اگرچه این استراتژی نیز بهینه نیست، اما زمان انتظار آن بسیار نزدیک به راه حل بهینه است.
