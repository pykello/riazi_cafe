# Title
پرتاب سکه‌ها
# Timestamp
2023-09-18 06:24
# Tags
probability
# ID
مساله ۳۸
# Difficulty
0
# Image
/images/problems/38_coins.png
# Statement
ارسطو ۵۱ تا سکه داره و پرستو ۵۰ تا سکه. اگه هر ۲ همه‌ی سکه‌هاشون رو پرتاب کنن، احتمال اینکه تعداد دفعاتی که ارسطو شیر آورده بیشتر از تعداد دفعاتی که پرستو شیر آورده باشه چقدره؟

سوال‌های تکمیلی:
* اگه  ارسطو ۵۲ سکه داشته باشه و پرستو ۵۰ سکه چی؟
* اگه  ارسطو ۵۰ سکه داشته باشه و پرستو ۵۰ سکه چی؟

لینک مساله در توویتر: https://twitter.com/Riazi_Cafe/status/1703281174658129959

# Solution

پاسخ سوال در حالت ۵۱ سکه ارسطو و ۵۰ سکه پرستو، ۰٫۵، در حالت ۵۰ سکه ارسطو و ۵۰ سکه پرستو، تقریبا ۰٫۴۶، و در حالت ۵۲ سکه ارسطو و ۵۰ سکه پرستو تقریبا ۰٫۵۴ است.

در حالتی که ارسطو ۵۱ سکه دارد، در هر حالت از پرتاب ۱۰۱ سکه، یا تعداد شیرهای ارسطو بیشتر از تعداد شیرهای پرستو است، یا تعداد خط‌های ارسطو بیشتر از تعداد خطهای پرستو است. همچنین هر ۲ همزمان نمی‌تواند اتفاق بیفتد و این دو فضای حالت اشتراک ندارند. همچنین به علت تقارن، تعداد اعضای این دو فضای حالت برابر است. پس احتمال بیشتر بودن تعداد شیرهای ارسطو ۰٫۵ است.

در حالتی که ارسطو ۵۰ سکه دارد، ۳ حالت داریم: یا تعداد شیرهای ارسطو بیشتر است (x)، یا تعداد شیرهای پرستو بیشتر است (y) ، یا تعداد شیرها مساوی است (p). به علت تقارن، x=y است. پس x برابر خواهد بود با  \\((1-p)*0.5\\).
مقدار p (=احتمال برابر بودن شیرها) را می‌توانیم از رابطه زیر بدست بیاوریم. پس x تقریبا مساوی ۰٫۴۶ است.

$$
p = \frac{\Sigma_{i=0}^{50}{50 \choose i}^2}{2^{100}} = \frac{{100 \choose 50}}{2^{100}} \approx 0.0796
$$

توضیح بیشتر درباره‌ی اینکه رابطه‌ی بالا را چگونه به دست آوردیم:
* صورت تعداد حالاتی است که تعداد شیرهای ارسطو و پرستو یکسان است. مخرج تعداد کل حالات. که تقسیم این دو احتمال مساوی بودن تعداد شیرهای ارسطو و پرستو را می‌دهد.
* **تعداد کل حالات.** ۱۰۰ سکه داریم، که هر کدوم دو حالت می‌تواند داشته باشد. پس تعداد کل حالات برابر است با \\(2^{100}\\). 
* **تعداد حالت‌هایی که تعداد شیرهای ارسطو و پرستو یکسان است**. تعداد حالت‌هایی از ۵۰ سکه که در آن i شیر داشته باشیم برابر است با \\({50 \choose i}\\). پس با استفاده از قانون ضرب در ترکیبیات، تعداد حالت‌هایی که همزمان تعداد شیرهای ارسطو و پرستو i باشد، برابر است با \\({50 \choose i}^2\\). حالا این i می‌تواند مقادیر صفر تا ۵۰ بگیرد. پس تعداد کل حالت‌هایی که تعداد شیرهای ارسطو و پرستو برابر است، برابر خواهد بود با \\(\Sigma_{i=0}^{50}{50 \choose i}^2\\).
* **ساده کردن عبارت**. \\(\Sigma_{i=0}^{n}{n \choose i}^2\\) را می‌توان به \\({2n \choose n}\\) ساده کرد. برای دیدن این، توجه کنید که \\((1+x)^n(1+x)^n=(1+x)^{2n}\\). اگر دو طرف را بسط دهیم، ضریب \\(x^n\\) در سمت چپ برابر خواهد بود با \\(\Sigma_{i=0}^{n}{n \choose i}{n \choose {n-i}} = \Sigma_{i=0}^{n}{n \choose i}^2\\)  و در سمت راست برابر خواهد بود با \\({2n \choose n}\\). پس این دو برابرند.

و بالاخره، حالتی که ارسطو ۵۲ سکه دارد. در ۵۱ سکه اول ارسطو، یا پرستو شیر بیشتری دارد، که در این صورت سکه ۵۲ ام ارسطو را جلو نخواهند انداخت، یا ارسطو شیر بیشتری دارد، که در بخش اول بدست آوردیم احتمال این حالت ۰٫۵ است، یا تعداد شیرهای هر ۲ برابر است (با احتمال q) که در این صورت اگر سکه ۵۲ ام ارسطو شیر بیاید، تعداد شیرهای ارسطو بیشتر خواهد شد. پس نتیجه برابر خواهد بود با \\(0.5+q*0.5\\).

برای بدست آوردن q مثل حالت قبل عمل می‌کنیم از رابطه زیر استفاده می‌کنیم. پس جواب کل تقریبا برابر است با ۰٫۵۴.

$$
q = \frac{\Sigma_{i=0}^{50}{50 \choose i}{51 \choose i}}{2^{101}} = \frac{{101 \choose 50}}{2^{101}} \approx 0.0788
$$
