<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-CTYYP55RZD"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-CTYYP55RZD');
      </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riazi Cafe
        - Problem 32. Heshmat and Gholi
    </title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/css/styles.css" rel="stylesheet">
    <link href="/css/styles-ltr.css" rel="stylesheet">

    <!-- Mathjax stuff -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
    
    </script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <h1><a class="navbar-brand" href="/">Riazi Cafe</a></h1>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/problem-list.html">Problems</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/send-problem.html">Suggest A Problem</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/blog">Blog</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="container mt-5">
        
<h2>Problem 32. Heshmat and Gholi</h2>


<!-- tabs -->
<ul class="nav nav-tabs mb-3" id="pills-tab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="pills-home-tab" data-bs-toggle="tab" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Problem Statement</button>
  </li>


    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-solution-tab" data-bs-toggle="tab" data-bs-target="#pills-solution" type="button" role="tab" aria-controls="pills-solution" aria-selected="false">
        Solution
        </button>
    </li>

</ul>

<div class="tab-content problem" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <img class="problem-image" src="/images/problems/32_ninja.png" style="max-width:35%"/>
    <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <script src="/usr/share/javascript/mathjax/tex-mml-chtml.js" type="text/javascript"></script>
</head>
<body>
<p>This is a modified version of one of the IMO 2023 problems.<br />
We have 1369 lines of balls; In each line <span class="math inline">\(i\)</span>, there are <span class="math inline">\(i\)</span> balls placed next to each other. The <span class="math inline">\(j\)</span>’th ball of each line is connected to the <span class="math inline">\(j\)</span>’th and <span class="math inline">\(j+1\)</span>’th balls of the next row. A ninja path consists of 1369 balls from different lines, where balls of consecutive lines are connected (see an example in the figure).</p>
<p>Heshmat selects one ball from each line and colors them with red. Afterwards, Gholi finds a ninja path that contains the most number of red balls. If Heshmat does not cooperate with Gholi, what is the minimum number of red balls of Gholi’s ninja path?<br />
Link to the problem on Twitter: <a href="https://twitter.com/Riazi_Cafe/status/1699307153184739688">https://twitter.com/Riazi_Cafe/status/1699307153184739688</a></p>
</body>
</html>

  </div>


    <div class="tab-pane fade" id="pills-solution" role="tabpanel" aria-labelledby="pills-solution-tab">

            <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <script src="/usr/share/javascript/mathjax/tex-mml-chtml.js" type="text/javascript"></script>
</head>
<body>
<p>The answer to question is 11.<br />
To show this, we need to prove two propositions: The first proposition is that there is a method for Heshmat that if he colors the balls in such a way, the number of red balls in every ninja path will be at most 11. The second proposition is that no matter how Hashmat colors the balls, there is a ninja path with at least 11 red balls. Let us first show the first proposition. Consider the following coloring method:</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;">line <span class="math inline">\(1 \rightarrow 1\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">line <span class="math inline">\(2 \rightarrow 1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">line <span class="math inline">\(3 \rightarrow 3\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">line <span class="math inline">\(4 \rightarrow 1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">line <span class="math inline">\(5 \rightarrow 3\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">line <span class="math inline">\(6 \rightarrow 5\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">line <span class="math inline">\(7 \rightarrow 7\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">line <span class="math inline">\(8 \rightarrow 1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\vdots\)</span></td>
</tr>
</tbody>
</table>
<p>In the above coloring method we iterate over lines and color one ball from each line. We start by coloring the first ball of the first line. From then on, for each next line, we move two balls to the right and color the ball if it exists. Otherwise we continue on by coloring the first ball of the current line and repeat the same process for the next lines. In other words, for each line <span class="math inline">\(2^i\)</span> we color ball number 1, and for lines <span class="math inline">\(2^i +j\)</span> we color ball number <span class="math inline">\(1+2j\)</span> (<span class="math inline">\(j &lt; 2^i\)</span>).</p>
<p>Due to our coloring, from each interval of lines <span class="math inline">\([1,1], [2,3], [4,7], \ldots, [512,1023], [1024,1369]\)</span> there will be a maximum of one colored ball per ninja path. Thus, no ninja path can have more than 11 red balls.</p>
<p>Next, we show the second proposition. In other words, we show that for every coloring of Heshmat, there is a ninja path for Gholi with at least 11 colored balls.</p>
<p>For this we leverage the Dilworth theorem below:</p>
<p>In any finite partially ordered set, the largest antichain has the same size as the smallest chain decomposition.</p>
<p>The Dilworth theorem shows that if there is no ninja path with 11 red balls for some coloring, then the line can be divided into 10 groups such that no two red balls in lines of a group are reachable from one another. In other words, if lines <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> are in the same group and their red balls are at positions <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>, then we have <span class="math inline">\(|a-b| &gt; |i-j|\)</span>. One can see that this is impossible since <span class="math inline">\(2^{10} &lt; 1369\)</span>.</p>
</body>
</html>


    </div>
</div>

    </main>

    <footer class="text-center mt-5">
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
