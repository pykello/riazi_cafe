<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-CTYYP55RZD"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-CTYYP55RZD');
      </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riazi Cafe
        - Problem 20. Bag of Pebbles
    </title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/css/styles.css" rel="stylesheet">
    <link href="/css/styles-ltr.css" rel="stylesheet">

    <!-- Mathjax stuff -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
    
    </script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <h1><a class="navbar-brand" href="/en/">Riazi Cafe</a></h1>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/en/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/problems">Problems</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/send-problem.html">Suggest A Problem</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/blog">Blog</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="container mt-5">
        
<h2>Problem 20. Bag of Pebbles</h2>


<!-- tabs -->
<ul class="nav nav-tabs mb-3" id="pills-tab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="pills-home-tab" data-bs-toggle="tab" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Problem Statement</button>
  </li>


    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-solution-tab" data-bs-toggle="tab" data-bs-target="#pills-solution" type="button" role="tab" aria-controls="pills-solution" aria-selected="false">
        Solution
        </button>
    </li>

</ul>

<div class="tab-content problem" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <img class="problem-image" src="/images/problems/20_marbles.jpg" style="max-width:35%"/>
    <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<p>You take part in a game wherein there is a bag with 1000 black pebbles and 1000 white pebbles. Each time, you can randomly pick a pebble from the bag and remove it. If the removed pebble is black, you will receive one dollar and if it is white, you will be fined one dollar. You can continue the game as long as there is at least one pebble in the bag and stop the game at any point you wish. How would you play in this game and what is your expected reward? (The optimal strategy requires a lot of complex calculations which cannot be done without a computer. The goal of the question is to find a strategy that is simple and almost optimal.)<br />
Link to the problem on Twitter: <a href="https://twitter.com/Riazi_Cafe/status/1687349831696809984">https://twitter.com/Riazi_Cafe/status/1687349831696809984</a></p>
</body>
</html>

  </div>


    <div class="tab-pane fade" id="pills-solution" role="tabpanel" aria-labelledby="pills-solution-tab">

            <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <script src="/usr/share/javascript/mathjax/tex-mml-chtml.js" type="text/javascript"></script>
</head>
<body>
<p>As mentioned, the goal of the problem is not to find the optimal strategy, and therefore there are different answers to the question. Our proposed algorithm is to continue the game until the number of remaining white pebbles is greater than the number of remaining black pebbles plus the square root of the number of remaining black pebbles. In this case, our average reward is equal to 16.224, which is more than <span class="math inline">\(98\%\)</span> of the highest possible reward achievable with any strategy.<br />
First, we discuss what we should expect of the reward of the optimal strategy. Notice that in any case, if we continue the game until the bag is empty, our net reward will be 0, so we never leave the game with a negative reward. Intuitively, if we flip a coin <span class="math inline">\(n\)</span> times, the expectation of the difference between the number of heads and the number of tails will be close to <span class="math inline">\(\sqrt{n}\)</span> (up to a constant multiplicative factor). Therefore, we do not expect the optimal strategy to achieve an asymptotically higher reward than <span class="math inline">\(O(\sqrt{n})\)</span> in expectation.</p>
<p>We first explain two types of strategies that were proposed in the comments:</p>
<ul>
<li><p>The first strategy is to continue the game until our total reward reaches a certain number or we remove all of the pebbles from the bag. This method gives us a good approximation of the optimal reward. In the plot below, you can see what our average reward would be for any specific threshold. The maximum reward we can get with this method is equal to 13.56, which is obtained with a threshold of 22. This amounts to about <span class="math inline">\(82\%\)</span> of the optimal reward.</p>
<p><img src="/images/problems/20_diagram1.jpg" alt="image" /></p></li>
<li><p>The second strategy is to continue the game for <span class="math inline">\(n\)</span> steps. if our total reward is positive after <span class="math inline">\(n\)</span> steps, we stop there, otherwise, we continue the game until the end. In this case, the plot below shows our average reward for any <span class="math inline">\(n\)</span>. The maximum average reward we can obtain with this strategy is for the case of <span class="math inline">\(n=1000\)</span> which guarantees a reward of <span class="math inline">\(8.92\)</span> for us on average. This value is about <span class="math inline">\(54\%\)</span> of the optimal reward.</p>
<p><img src="/images/problems/20_diagram2.jpg" alt="image" /></p></li>
</ul>
<p>The intuition behind our proposal is that the most important factor to determine whether to stop or not is how much the number of remaining white balls is greater than the number of remaining black balls . As discussed above, the stopping rule should compare the difference to the square root of the number of pebbles.</p>
</body>
</html>


    </div>
</div>

    </main>

    <footer class="text-center mt-5">
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
