<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-CTYYP55RZD"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-CTYYP55RZD');
      </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riazi Cafe
        - Problem 24. Boxes and Dice
    </title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/css/styles.css" rel="stylesheet">

    <!-- Mathjax stuff -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
    
    </script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <h1><a class="navbar-brand" href="/">Riazi Cafe</a></h1>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/problem-list.html">Problems</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/send-problem.html">Suggest A Problem</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/en/blog">Blog</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="container mt-5">
        
<h2>Problem 24. Boxes and Dice</h2>


<!-- tabs -->
<ul class="nav nav-tabs mb-3" id="pills-tab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="pills-home-tab" data-bs-toggle="tab" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Problem Statement</button>
  </li>


    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-solution-tab" data-bs-toggle="tab" data-bs-target="#pills-solution" type="button" role="tab" aria-controls="pills-solution" aria-selected="false">
        Solution
        </button>
    </li>

</ul>

<div class="tab-content problem" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
      <img src="/images/problems/24_dices.jpg" style="float:left;max-width:35%"/>
    <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <script src="/usr/share/javascript/mathjax/tex-mml-chtml.js" type="text/javascript"></script>
</head>
<body>
<p>We have 6 boxes numbered from 1 to 6. Each box has a label on it originally equal to 1 for all boxes (notice that the numbers and labels are two separate concepts). Each time, we roll two dice. Let the number of the first die be <span class="math inline">\(x\)</span> and the number of the second die be <span class="math inline">\(y\)</span>. We change the label of box <span class="math inline">\(x\)</span> to <span class="math inline">\(y\)</span>.</p>
<p>On average, how many times do we need to repeat this until the labels of the boxes are equal to their numbers?<br />
<strong>Supplementary question</strong>: on average, how many times do we repeat this process until the labels of all 6 boxes are distinct?<br />
Link to the problem on Twitter: <a href="https://twitter.com/Riazi_Cafe/status/1690240896535789568">https://twitter.com/Riazi_Cafe/status/1690240896535789568</a></p>
</body>
</html>

  </div>


    <div class="tab-pane fade" id="pills-solution" role="tabpanel" aria-labelledby="pills-solution-tab">

            <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <script src="/usr/share/javascript/mathjax/tex-mml-chtml.js" type="text/javascript"></script>
</head>
<body>
<p>The correct answer for the problem is 58501.2. Also, the answer to the supplementary problem is equal to 90.36.<br />
<strong>Explanation of the first part</strong>: At any moment in time, the only factor that determines how many steps are required on average for the labels on the boxes to be desirable is how many labels written on the boxes are desired? At first, because all the labels are equal to one, this amount is equal to 1. Because only the label of the first box desired.</p>
<p>Based on this, the problem can be modeled as a graph: We have a graph with 7 vertices, where vertex number <span class="math inline">\(i\)</span> represents all states in which <span class="math inline">\(i\)</span> boxes are desirable. At first, there is a token on vertex number 1. In each step, this token moves to one of the vertices of the graph (including the current vertex) based on certain probabilities. On average, how many steps does it take for the token to reach vertex number 6?</p>
<p>In the figure, you can see the probability of moving from each vertex to other vertices:</p>
<p><img src="/images/problems/sol1.png" style="width:12cm" alt="image" /></p>
<p>Problems like this are called Markov chain and can be solved as a system of equations. In this system, for each vertex <span class="math inline">\(i\)</span>, there is a variable <span class="math inline">\(v_i\)</span> that shows the answer of the problem when starting with the token placed on that node.</p>
<p>The system of equations for our problem is as follows:</p>
<p><span class="math display">\[\begin{aligned}
&amp;v_0 = 1 + \frac{5}{6}v_0 + \frac{1}{6}v_1 \\
&amp;v_1 = 1 + \frac{5}{36}v_0 + \frac{13}{18}v_1 + \frac{5}{36}v_2 \\
&amp;v_2 = 1 + \frac{5}{18}v_1 + \frac{11}{18}v_2 + \frac{1}{9}v_3 \\
&amp;v_3 = 1 + \frac{5}{12}v_2 + \frac{1}{2}v_3 + \frac{1}{12}v_4 \\
&amp;v_4 = 1 + \frac{5}{9}v_3 + \frac{7}{18}v_4 + \frac{1}{18}v_5 \\
&amp;v_5 = 1 + \frac{25}{36}v_4 + \frac{5}{18}v_5 + \frac{1}{36}v_6 \\
&amp;v_6 = 0
\end{aligned}\]</span></p>
<p>The solution of this equation system is as follows:</p>
<p><span class="math display">\[\begin{aligned}
&amp;v_0 = 58507.2 \\
&amp;v_1 = 58501.2 \\
&amp;v_2 = 58488 \\
&amp;v_3 = 58446 \\
&amp;v_4 = 58224 \\
&amp;v_5 = 55986 \\
&amp;v_6 = 0
\end{aligned}\]</span></p>
<p>Because we start from vertex number 1, then the answer to the problem is equal to 58501.2.</p>
<p><strong>Explanation of the second part</strong>: With the same method, we can also solve the second problem. However, the graph is a bigger, and thus, solving the questions requires programming.</p>
<p>In this case, the factor that determines how many steps are left on average is the following: “what is the count of each of the distinct labels we have on the boxes?”<br />
Notice that the labels themselves and their orders are not important and only the count of the groups is important. For example, if 1 3 1 5 5 2 are written on the boxes, the corresponding state is <span class="math inline">\((2,2,1,1)\)</span> because 4 distinct labels are written on the boxes, two of which are equal to 1, two of which are equal to 5, and there is a single <span class="math inline">\(2\)</span> and a single <span class="math inline">\(3\)</span> among them. Also, if 6 6 1 2 4 4 were written on the boxes, the corresponding state would still be <span class="math inline">\((2,2,1,1)\)</span> even though the labels are different from the previous example. However, the size of the groups of distinct labels is the same as the previous example.</p>
<p>At first, the labels written on the 6 boxes are the same, therefore we start from state (6). The goal is to go to the state <span class="math inline">\((1,1,1,1,1,1)\)</span> which represents that case that all 6 labels are distinct.</p>
<p>We define these different states as follows:</p>
<p><span class="math display">\[\begin{aligned}
v_0&amp;=(6)\\
v_1&amp;=(5,1)\\
v_2&amp;=(4,2)\\
v_3&amp;=(3,3)\\
v_4&amp;=(4,1,1)\\
v_5&amp;=(3,2,1)\\
v_6&amp;=(2,2,2)\\
v_7&amp;=(3,1,1,1)\\
v_8&amp;=(2,2,1,1)\\
v_9&amp;=(2,1,1,1,1)\\
v_{10}&amp;=(1,1,1,1,1,1)
\end{aligned}\]</span></p>
<p>Below are the graph of the problem and the system of equations for the answer:</p>
<p><img src="/images/problems/sol2.png" style="width:12cm" alt="image" /></p>
<p><span class="math display">\[\begin{aligned}
&amp;v_0 = 1 + \frac{1}{6}v_0 + \frac{5}{6}v_1 \\
&amp;v_1 = 1 + \frac{1}{36}v_0 + \frac{5}{18}v_1 + \frac{5}{36}v_2 + \frac{5}{9}v_4 \\
&amp;v_2 = 1 + \frac{1}{18}v_1 + \frac{1}{6}v_2 + \frac{1}{9}v_3 + \frac{2}{9}v_4 + \frac{4}{ 9}v_5 \\
&amp;v_3 = 1 + \frac{1}{6}v_2 + \frac{1}{6}v_3 + \frac{2}{3}v_5 \\
&amp;v_4 = 1 + \frac{1}{18}v_1 + \frac{1}{18}v_2 + \frac{1}{3}v_4 + \frac{2}{9}v_5 + \frac{1}{ 3}v_7 \\
&amp;v_5 = 1 + \frac{1}{36}v_2 + \frac{1}{36}v_3 + \frac{1}{18}v_4 + \frac{7}{18}v_5 + \frac{1}{ 12}v_6 + \frac{1}{6}v_7 + \frac{1}{4}v_8 \\
&amp;v_6 = 1 + \frac{1}{3}v_5 + \frac{1}{6}v_6 + \frac{1}{2}v_8 \\
&amp;v_7 = 1 + \frac{1}{12}v_4 + \frac{1}{6}v_5 + \frac{1}{3}v_7 + \frac{1}{4}v_8 + \frac{1}{ 6}v_9 \\
&amp;v_8 = 1 + \frac{1}{9}v_5 + \frac{1}{18}v_6 + \frac{1}{9}v_7 + \frac{1}{2}v_8 + \frac{2}{ 9}v_9 \\
&amp;v_9 = 1 + \frac{1}{9}v_7 + \frac{1}{3}v_8 + \frac{1}{2}v_9 + \frac{1}{18}v_{10} \\
&amp;v_{10} = 0
\end{aligned}\]</span></p>
<p>The answer to the above system of equation is equal to:</p>
<p><span class="math display">\[\begin{aligned}
v_0 &amp;= 90.36 \\
v_1 &amp;= 89.16 \\
v_2 &amp;= 88.44 \\
v_3 &amp;= 88.2 \\
v_4 &amp;= 87.48 \\
v_5 &amp;= 86.64 \\
v_6 &amp;= 86.04 \\
v_7 &amp;= 84.6 \\
v_8 &amp;= 83.64 \\
v_9 &amp;= 76.56 \\
v_{10} &amp;= 0
\end{aligned}\]</span></p>
<p>which means the average number of steps is equal to 90.36 for the second part.</p>
</body>
</html>


    </div>
</div>

    </main>

    <footer class="text-center mt-5">
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
